const Bio360 = (() => {
  const SESSION = "bio360_session_v1";
  const ACTIVE = "bio360_active_topic_v1";
  const RESULTS = "bio360_results_v1";

  // 5–6: Жаратылыстану, 7–11: Биология логикасы ҚР жүйесіне сай.  [oai_citation:1‡uba.edu.kz](https://uba.edu.kz/storage/app/media/2024%202024%202024%202024%20%20KZ%20%20%20KZ%20%20%20KZ%20%20%20KZ.pdf?utm_source=chatgpt.com)
  const DB = {
    "5": [
      mk("5_life", "Тірі ағзалардың белгілері", [
        "Тірі ағзалар қоректенеді, тыныс алады, өседі, көбейеді және тітіркенуге жауап береді.",
        "Жасуша — тіршіліктің ең кіші құрылымдық бірлігі.",
        "Орта факторлары (жарық, су, температура) тіршілікке әсер етеді."
      ], quiz5_life()),
      mk("5_plants", "Өсімдіктер және фотосинтез", [
        "Өсімдік — өндіруші: қоректік затты фотосинтез арқылы түзеді.",
        "Фотосинтез үшін жарық, су, көмірқышқыл газы қажет, нәтижесінде оттек бөлінеді.",
        "Жапырақ — негізгі фотосинтез мүшесі."
      ], quiz5_plants()),
      mk("5_eco", "Экожүйе: өндіруші–тұтынушы–ыдыратушы", [
        "Экожүйеде ағзалар бір-бірімен қоректік байланыс арқылы байланысады.",
        "Өндіруші → тұтынушы → ыдыратушы арқылы зат айналымы жүреді.",
        "Тепе-теңдік бұзылса, биоалуантүрлілік азаяды."
      ], quiz5_eco()),
    ],
    "6": [
      mk("6_human", "Адам ағзасы: мүшелер жүйесі", [
        "Адам ағзасы мүшелер жүйесінен тұрады: тыныс алу, қанайналым, асқорыту, тірек-қимыл.",
        "Әр жүйе белгілі қызмет атқарады, бірақ бәрі бірге жұмыс істейді.",
        "Денсаулық — режим, тамақтану, қозғалыс, ұйқыға тәуелді."
      ], quiz6_human()),
      mk("6_micro", "Микроәлем: бактерия, вирус, саңырауқұлақ", [
        "Бактерия — жасушалы, кейбірі пайдалы, кейбірі ауру тудырады.",
        "Вирус — жасушасыз, тек тірі жасушада көбейеді.",
        "Гигиена және вакцинация жұқпаның алдын алуға көмектеседі."
      ], quiz6_micro()),
      mk("6_env", "Экология және тұрақты даму", [
        "Табиғи ресурстар шектеулі, сондықтан үнемдеу маңызды.",
        "Ластану (ауа/су/топырақ) тіршілікке тікелей әсер етеді.",
        "Қарапайым қадам: сұрыптау, қайта өңдеу, пластикті азайту."
      ], quiz6_env()),
    ],
    "7": [
      // ✅ Сен жіберген ми туралы мәтін осы жерде
      mk("7_brain", "Ми бөлімдері және жүйке жүйесі", [
        "Ми бассүйектің ми сауытының ішінде жатады. Мидың орташа салмағы шамамен 1300–1400 г. Адамның дарындылығы мен ақылдылығы мидың салмағына байланысты емес.",
        "Жұлындағыдай ми да ақ зат пен сұр заттан құралған. Жұлыннан айырмашылығы – мидың ақ заты ішкі жағында, сұр заты сыртында болады. Сұр зат ақ зат ішінде топтанып жатса, оны «ядро» дейді.",
        "Мидың ақ затынан өткізгіш жолдар түзіліп, миды жұлынмен байланыстырады. Ми бөлімдерінің өзара байланысы өткізгіш жолдар арқылы қамтамасыз етіледі.",
        "Мидың ішінде ми сұйықтығымен толтырылған қуыстар болады. Оларды ми қарыншалары дейді. Ол қорғаныштық, ыдырау өнімдерін шығару және ми ішіндегі қысымды реттеу қызметін атқарады.",
        "Ми 5 бөлімнен тұрады: 1) Үлкен ми сыңары; 2) Аралық ми; 3) Ортаңғы ми; 4) Көпір; 5) Сопаша ми; 6) Мишық."
      ], quiz7_brain()),
      mk("7_resp", "Тыныс алу және газ алмасу", [
        "Тыныс алу — ағзаны оттекпен қамтамасыз ету және көмірқышқыл газын шығару.",
        "Өкпеде альвеолалар арқылы газ алмасу жүреді.",
        "Темекі және ластанған ауа тыныс алу жүйесіне зиян."
      ], quiz7_resp()),
      mk("7_blood", "Қанайналым және жүрек", [
        "Жүрек — қан айдайтын бұлшықет мүше.",
        "Қан айналымы ұлпаларға оттек пен қоректі жеткізеді.",
        "Пульс, қысым — қанайналым жұмысының көрсеткіші."
      ], quiz7_blood()),
    ],
    "8": [
      mk("8_cell", "Жасуша және органоидтар", [
        "Жасуша — тіршіліктің құрылымдық және қызметтік бірлігі.",
        "Митохондрия — энергия (АТФ), рибосома — нәруыз синтезі.",
        "Ядро ДНҚ-ны сақтайды, мембрана алмасуды реттейді."
      ], quiz8_cell()),
      mk("8_gen", "Көбею және тұқымқуалау кіріспе", [
        "Көбею — түрдің сақталуы.",
        "Тұқымқуалау — белгілердің ұрпаққа берілуі.",
        "Өзгергіштік — ағзалардың әртүрлі болуының себебі."
      ], quiz8_gen()),
      mk("8_eco", "Экожүйе динамикасы", [
        "Қоректік тізбек пен тор — энергия ағуының моделі.",
        "Адам әсері: ластану, орман кесу, инвазиялық түрлер.",
        "Тұрақты даму — табиғатты сақтай отырып даму."
      ], quiz8_eco()),
    ],
    "9": [
      mk("9_genetics", "Генетика негіздері", [
        "Ген — тұқымқуалау бірлігі.",
        "Генотип және фенотип түсініктері ажыратылады.",
        "Мендель заңдары қарапайым будандастыруды түсіндіреді."
      ], quiz9_genetics()),
      mk("9_micro", "Микроорганизмдер және иммунитет", [
        "Иммунитет — ағзаның қорғаныс жүйесі.",
        "Антидене және вакцинация түсінігі.",
        "Антибиотикті дұрыс қолданбау резистенттілікке әкеледі."
      ], quiz9_micro()),
      mk("9_eco", "Биосфера және адам әсері", [
        "Биосфера — тіршілік таралған қабат.",
        "Көміртек айналымы, су айналымы маңызды.",
        "Экологиялық мәселе — шешімі бар басқарылатын жүйе."
      ], quiz9_eco()),
    ],
    "10": [
      mk("10_evo", "Эволюция және сұрыпталу", [
        "Эволюция — тіршіліктің тарихи дамуы.",
        "Табиғи сұрыпталу бейімделген белгілерді бекітеді.",
        "Дәлелдер: қазба қалдықтар, салыстырмалы анатомия, генетика."
      ], quiz10_evo()),
      mk("10_bioTech", "Биотехнология кіріспе", [
        "Биотехнология — тірі ағзалар/жүйелерді өнім алу үшін қолдану.",
        "Ашыту, фермент, биореактор ұғымдары.",
        "Қауіпсіздік және биоэтика маңызды."
      ], quiz10_bioTech()),
      mk("10_ecology", "Табиғатты қорғау", [
        "Қорықтар, ұлттық парктер — биоалуантүрлілікті сақтайды.",
        "Қалдықтарды азайту: Reduce–Reuse–Recycle.",
        "Жергілікті экожүйені бақылау — ғылыми дағды."
      ], quiz10_ecology()),
    ],
    "11": [
      mk("11_homeostasis", "Гомеостаз және жүйке-эндокрин реттелуі", [
        "Гомеостаз — ішкі ортаның тұрақтылығы.",
        "Гипоталамус пен гормондар көптеген үдерісті реттейді.",
        "Стресс және ұйқы режимі физиологияға тікелей әсер етеді."
      ], quiz11_homeostasis()),
      mk("11_gen", "Генетика және биоинформатика (идея)", [
        "ДНҚ/РНҚ ақпараттық жүйе ретінде қаралады.",
        "Мутация және оның салдары.",
        "Дерекпен жұмыс: генетикалық кестелер, ықтималдық."
      ], quiz11_gen()),
      mk("11_health", "Денсаулық биологиясы", [
        "Дұрыс тамақтану, қозғалыс, профилактика — ұзақ өмір факторы.",
        "Жүрек-қантамыр тәуекелдері: тұз, қант, темекі.",
        "Жеке денсаулық жоспары — практикалық нәтиже."
      ], quiz11_health()),
    ],
  };

  function mk(id, title, theory, quiz){ return { id, title, theory, quiz }; }

  function setSession(obj){ localStorage.setItem(SESSION, JSON.stringify(obj)); }
  function getSession(){ return JSON.parse(localStorage.getItem(SESSION) || "null"); }

  function setActiveTopicKey(k){ localStorage.setItem(ACTIVE, k); }
  function getActiveTopicKey(){ return localStorage.getItem(ACTIVE) || ""; }

  function getTopicByKey(key){
    for (const cls of Object.keys(DB)){
      const t = DB[cls].find(x => x.id === key);
      if (t) return t;
    }
    return null;
  }

  function getResults(){ return JSON.parse(localStorage.getItem(RESULTS) || "[]"); }
  function saveResult(r){
    const arr = getResults();
    arr.unshift({ ...r, at: new Date().toISOString() });
    localStorage.setItem(RESULTS, JSON.stringify(arr));
  }

  function esc(s){
    return String(s||"")
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;");
  }
  function formatTheory(lines){ return lines.map(p=>`<p>${esc(p)}</p>`).join(""); }

  function topicStatsByKey(topicKey){
    const arr = getResults().filter(r => r.topicKey === topicKey);
    const n = arr.length;
    if(!n) return { n:0, avg:0, L1:0, L2:0, L3:0 };
    const avg = Math.round((arr.reduce((s,r)=>s+Number(r.score||0),0)/n)*10)/10;
    const L1 = arr.filter(r=>r.level==="L1").length;
    const L2 = arr.filter(r=>r.level==="L2").length;
    const L3 = arr.filter(r=>r.level==="L3").length;
    return { n, avg, L1, L2, L3 };
  }

  function renderTopicsForClass(containerId, cls){
    const box = document.getElementById(containerId);
    const topics = DB[String(cls)] || [];
    box.innerHTML = topics.map(t=>{
      const s = topicStatsByKey(t.id);
      return `
        <div class="topicCard">
          <h3>${esc(t.title)}</h3>
          <div class="muted small">${cls}-сынып • ${t.id}</div>

          <div class="topicStats">
            <div class="stat"><b>${s.n}</b><span>Жауап саны</span></div>
            <div class="stat"><b>${s.avg}</b><span>Орташа балл</span></div>
            <div class="stat"><b>${s.L1}/${s.L2}/${s.L3}</b><span>L1/L2/L3</span></div>
            <div class="stat"><b>${s.n?Math.round(s.L3/s.n*100):0}%</b><span>L3 үлесі</span></div>
          </div>

          <div class="row" style="margin-top:10px">
            <button class="btn" onclick="Bio360.openTopic('${t.id}')">Ашу</button>
          </div>
        </div>
      `;
    }).join("");
  }

  function openTopic(topicKey){
    setActiveTopicKey(topicKey);
    location.href = "learn.html";
  }

  function renderQuiz(containerId, quiz){
    const box = document.getElementById(containerId);
    box.innerHTML = quiz.map((it,i)=>{
      const opts = it.a.map((txt,j)=>`
        <label class="opt"><input type="radio" name="q${i}" value="${j}"><span>${esc(txt)}</span></label>
      `).join("");
      return `<div class="q"><h3>${i+1}. ${esc(it.q)}</h3>${opts}</div>`;
    }).join("");
  }

  function gradeQuiz(quiz){
    let score = 0;
    quiz.forEach((it,i)=>{
      const picked = document.querySelector(`input[name="q${i}"]:checked`);
      if(picked && Number(picked.value) === it.c) score++;
    });
    const max = quiz.length || 1;
    const ratio = score/max;
    const level = ratio < 0.5 ? "L1" : (ratio < 0.85 ? "L2" : "L3");
    return { score, max, level };
  }

  // ===== QUIZZES (қысқа, жұмыс істейтін) =====
  function quiz7_brain(){
    return [
      {q:"Орталық жүйке жүйесіне не жатады?", a:["Жүйкелер мен рецепторлар","Ми мен жұлын","Қан тамырлары","Бұлшықеттер"], c:1},
      {q:"Сопақша мида қандай орталықтар бар?", a:["Көру талдауы","Тыныс алу және жүрек-қантамыр реттелуі","Сүйек өсуі","Тек дәм сезу"], c:1},
      {q:"Қимыл-қозғалысты үйлестіретін бөлім:", a:["Аралық ми","Мишық","Сопақша ми","Жұлын"], c:1},
      {q:"Ми қарыншаларындағы сұйықтық қызметі:", a:["Тек түс береді","Қорғаныш, ыдырау өнімдерін шығару, қысымды реттеу","Тек энергия береді","Тек тамақ қорытады"], c:1},
      {q:"Үлкен ми сыңарларының негізгі қызметі:", a:["Тыныс алу","Қан қысымы","Ойлау, сөйлеу, есте сақтау","Тепе-теңдік"], c:2},
    ];
  }
  function quiz7_resp(){
    return [
      {q:"Газ алмасу қайда жүреді?", a:["Асқазанда","Альвеолада","Сүйекте","Жүректе"], c:1},
      {q:"Оттек жеткізуге қатысады:", a:["Гемоглобин","Өт","Фермент","ДНҚ"], c:0},
      {q:"Дұрыс тұжырым:", a:["Тыныс алу CO₂ жинайды","Тыныс алу O₂ алады, CO₂ шығарады","Тыныс алу тек түнде","Тыныс алу тек спортта"], c:1},
      {q:"Темекінің зияны:", a:["Өкпе сыйымдылығын арттырады","Газ алмасуды нашарлатады","Иммунитетті күшейтеді","Кан қысымын тұрақтандырады"], c:1},
      {q:"Тыныс алу жиілігі артады:", a:["Жүктемеде","Ұйқыда","Тамақтанғанда","Су ішкенде"], c:0},
    ];
  }
  function quiz7_blood(){
    return [
      {q:"Жүрек не істейді?", a:["Қанды айдайды","Қанды сүзеді","Қанды өндіреді","Қанды ыдыратады"], c:0},
      {q:"Қанның қызметі:", a:["Тек жылу","Оттек/қорек тасымалдау","Тек сүйек өсіру","Тек көру"], c:1},
      {q:"Пульс деген:", a:["Тері түсі","Жүрек соғу жиілігі","Тыныс алу көлемі","Бұлшықет күші"], c:1},
      {q:"Артерия:", a:["Қанды жүректен алып шығады","Қанды жүрекке әкеледі","Тек лимфа","Тек ауа"], c:0},
      {q:"Дене жүктемесінде:", a:["Пульс баяулайды","Пульс жиілейді","Қан тоқтайды","Жүрек тоқтайды"], c:1},
    ];
  }

  function quiz5_life(){ return [
    {q:"Тірі ағзаға тән белгі:", a:["Өсу","Тек түс","Тек қаттылық","Тек тыныштық"], c:0},
    {q:"Тіршіліктің ең кіші бірлігі:", a:["Ұлпа","Мүше","Жасуша","Орман"], c:2},
    {q:"Тітіркенуге жауап беру:", a:["Қозғалу/реакция","Тек ұйықтау","Тек қатаю","Тек жарық шығару"], c:0},
    {q:"Көбею не үшін керек?", a:["Түрді сақтау","Тек ауа алу","Тек су ішу","Тек ойлау"], c:0},
    {q:"Қоректену:", a:["Энергия алу","Тек ұшу","Тек жүзу","Тек дыбыс"], c:0},
  ];}

  function quiz5_plants(){ return [
    {q:"Фотосинтез нәтижесінде бөлінеді:", a:["Оттек","Азот","Темір","Тұз"], c:0},
    {q:"Фотосинтез қайда жүреді?", a:["Хлоропласт","Ядро","Митохондрия","Сүйек"], c:0},
    {q:"Фотосинтезге керек:", a:["Жарық","Тек дыбыс","Тек жел","Тек мұз"], c:0},
    {q:"Өсімдік —", a:["Өндіруші","Жыртқыш","Паразит міндетті","Тек ыдыратушы"], c:0},
    {q:"Жапырақтың негізгі рөлі:", a:["Фотосинтез","Жүрек соғу","Есту","Сөйлеу"], c:0},
  ];}

  function quiz5_eco(){ return [
    {q:"Өндіруші мысалы:", a:["Өсімдік","Қасқыр","Қоян","Бүркіт"], c:0},
    {q:"Ыдыратушы:", a:["Саңырауқұлақ/бактерия","Балық","Құс","Ағаш"], c:0},
    {q:"Қоректік тізбек:", a:["Энергия ағуы","Тек су","Тек тас","Тек ауа"], c:0},
    {q:"Экожүйе —", a:["Ағза+орта жүйесі","Тек өсімдік","Тек жануар","Тек өзен"], c:0},
    {q:"Биоалуантүрлілік азайса:", a:["Тұрақтылық төмендейді","Ауа тәтті болады","Су жоқ болады","Жарық көбейеді"], c:0},
  ];}

  function quiz6_human(){ return [
    {q:"Асқорыту жүйесі:", a:["Қоректі ыдыратады","Қанды айдайды","Ауа тасымалдайды","Тек сүйек өсіреді"], c:0},
    {q:"Тыныс алу жүйесі:", a:["Оттек алмасу","Қорек синтезі","Қан өндіру","Сүйек құрау"], c:0},
    {q:"Қанайналым:", a:["Тасымалдау","Тек сөйлеу","Тек көру","Тек есту"], c:0},
    {q:"Тірек-қимыл:", a:["Қозғалыс","Асқорыту","Газ алмасу","Иммунитет"], c:0},
    {q:"Денсаулыққа әсер етеді:", a:["Ұйқы+қозғалыс+тамақ","Тек музыка","Тек ойын","Тек суық"], c:0},
  ];}

  function quiz6_micro(){ return [
    {q:"Вирус —", a:["Жасушасыз, тек жасушада көбейеді","Толық ағза","Өсімдік","Саңырауқұлақ міндетті"], c:0},
    {q:"Бактерия —", a:["Жасушалы микроағза","Тек тас","Тек су","Тек ауа"], c:0},
    {q:"Алдын алу:", a:["Гигиена","Тек ұйқы","Тек тәтті","Тек телефон"], c:0},
    {q:"Вакцина:", a:["Иммунитетті үйретеді","Ауруды күшейтеді","Сүйек өсіреді","Асқазан қорытады"], c:0},
    {q:"Антибиотик:", a:["Вирусқа емес, бактерияға әсер етеді","Тек су","Тек витамин","Тек гормон"], c:0},
  ];}

  function quiz6_env(){ return [
    {q:"Тұрақты даму:", a:["Табиғатты сақтай отырып даму","Тек ақша","Тек көлік","Тек ойын"], c:0},
    {q:"Ластану әсері:", a:["Тіршілікке зиян","Тек музыка","Тек жарық","Тек тыныштық"], c:0},
    {q:"Қайта өңдеу:", a:["Қалдықты азайтады","Қалдықты көбейтеді","Суды тоқтатады","Ауаны жоқ қылады"], c:0},
    {q:"Ресурс:", a:["Су/энергия/шикізат","Тек тасты","Тек дыбыс","Тек сөз"], c:0},
    {q:"Дұрыс қадам:", a:["Сұрыптау","Қоқысты көміп тастау","Көбірек пластик","Суды бос ағызу"], c:0},
  ];}

  function quiz8_cell(){ return [
    {q:"Жасуша —", a:["Тіршіліктің бірлігі","Тек сүйек","Тек су","Тек ауа"], c:0},
    {q:"Митохондрия:", a:["Энергия (АТФ)","ДНҚ-ны жояды","Тек түс","Тек қорған"], c:0},
    {q:"Рибосома:", a:["Нәруыз синтезі","Тыныс алу","Қан айдау","Көру"], c:0},
    {q:"Ядро:", a:["Генетикалық ақпарат","Тек қорек","Тек су","Тек дыбыс"], c:0},
    {q:"Мембрана:", a:["Алмасуды реттеу","Ойлау","Жүру","Есту"], c:0},
  ];}

  function quiz8_gen(){ return [
    {q:"Көбею:", a:["Ұрпақ қалдыру","Тек өсу","Тек тыныс","Тек ұшу"], c:0},
    {q:"Тұқымқуалау:", a:["Белгінің берілуі","Тек тамақ","Тек ұйқы","Тек жарық"], c:0},
    {q:"Өзгергіштік:", a:["Әртүрлілік себебі","Тек су","Тек тас","Тек дыбыс"], c:0},
    {q:"Жынысты көбею:", a:["Генетикалық алуандық арттырады","Әрқашан бірдей","Тек бактерия","Тек вирус"], c:0},
    {q:"Жасуша бөлінуі:", a:["Өсу/қалпына келу","Тек көру","Тек есту","Тек терлеу"], c:0},
  ];}

  function quiz8_eco(){ return [
    {q:"Қоректік тор:", a:["Байланысқан тізбектер","Тек өсімдік","Тек су","Тек ауа"], c:0},
    {q:"Инвазиялық түр:", a:["Жергілікті түрге қысым жасайды","Көмектеседі әрқашан","Тек тас","Тек мұз"], c:0},
    {q:"Адам әсері:", a:["Ластану/орман кесу","Тек ән","Тек сөз","Тек түс"], c:0},
    {q:"Тұрақтылық:", a:["Биоалуантүрлілікпен өседі","Әрқашан төмен","Тек жел","Тек жарық"], c:0},
    {q:"Дұрыс шешім:", a:["Қорғау+үнемдеу","Көбірек қоқыс","Таза суды ысырап","Орманды көп кесу"], c:0},
  ];}

  function quiz9_genetics(){ return [
    {q:"Ген:", a:["Тұқымқуалау бірлігі","Тек гормон","Тек витамин","Тек фермент"], c:0},
    {q:"Генотип:", a:["Гендер жиынтығы","Тек сыртқы белгі","Тек тамақ","Тек ұйқы"], c:0},
    {q:"Фенотип:", a:["Сыртқы/көрінетін белгі","Тек ДНҚ","Тек РНҚ","Тек ядро"], c:0},
    {q:"Мендель:", a:["Тұқымқуалау заңдары","Экология","Анатомия","Фотосинтез"], c:0},
    {q:"Будан:", a:["Ата-анасы әртүрлі ұрпақ","Тек бактерия","Тек өсімдік","Тек вирус"], c:0},
  ];}

  function quiz9_micro(){ return [
    {q:"Иммунитет:", a:["Қорғаныс жүйесі","Тек сүйек","Тек қан","Тек ауа"], c:0},
    {q:"Антидене:", a:["Қорғаныс нәруызы","Тек май","Тек көмірсу","Тек су"], c:0},
    {q:"Вакцина:", a:["Иммун жауапты үйретеді","Ауруды күшейтеді","Сүйек өсіреді","Қанды тоқтатады"], c:0},
    {q:"Антибиотик:", a:["Бактерияға қарсы","Вирусқа қарсы міндетті","Тек витамин","Тек гормон"], c:0},
    {q:"Резистенттілік:", a:["Дұрыс қолданбаудан артады","Тек музыкадан","Тек ұйқыдан","Тек судан"], c:0},
  ];}

  function quiz9_eco(){ return [
    {q:"Биосфера:", a:["Тіршілік қабаты","Тек су","Тек ауа","Тек тас"], c:0},
    {q:"Көміртек айналымы:", a:["Экожүйе үдерісі","Тек ойын","Тек сөз","Тек түс"], c:0},
    {q:"Су айналымы:", a:["Булану–жауын–ағыс","Тек мұз","Тек жел","Тек жарық"], c:0},
    {q:"Ластану:", a:["Биоалуантүрлілікке әсер етеді","Әсер етпейді","Тек күлкі","Тек музыка"], c:0},
    {q:"Шешім:", a:["Жүйелі басқару және әрекет","Тек шағым","Тек қарау","Тек күту"], c:0},
  ];}

  function quiz10_evo(){ return [
    {q:"Эволюция:", a:["Тарихи даму","Тек өсу","Тек тыныс","Тек ұйқы"], c:0},
    {q:"Сұрыпталу:", a:["Бейімделген белгіні бекітеді","Тек түс","Тек дыбыс","Тек мұз"], c:0},
    {q:"Эволюция дәлелі:", a:["Қазба қалдық","Тек музыка","Тек ойын","Тек сөз"], c:0},
    {q:"Бейімделу:", a:["Ортаға лайық белгі","Тек ауру","Тек салмақ","Тек шаш"], c:0},
    {q:"Дұрыс тұжырым:", a:["Орта өзгерсе, бейімделу маңызды","Орта әсер етпейді","Тіршілік өзгермейді","Барлығы бірдей"], c:0},
  ];}

  function quiz10_bioTech(){ return [
    {q:"Биотехнология:", a:["Тірі жүйені өнімге қолдану","Тек химия","Тек география","Тек математика"], c:0},
    {q:"Ашыту:", a:["Микроағза үдерісі","Тек жел","Тек жарық","Тек тас"], c:0},
    {q:"Фермент:", a:["Реакцияны жылдамдатады","Суды қатырады","Тасты ерітеді","Жарық береді"], c:0},
    {q:"Биоэтика:", a:["Қауіпсіздік/жауапкершілік","Тек сән","Тек ойын","Тек қате"], c:0},
    {q:"Қолданылуы:", a:["Тағам/медицина/өнеркәсіп","Тек бояу","Тек ауа","Тек тас"], c:0},
  ];}

  function quiz10_ecology(){ return [
    {q:"Қорық:", a:["Қорғалатын аумақ","Тек қала","Тек зауыт","Тек жол"], c:0},
    {q:"3R:", a:["Reduce–Reuse–Recycle","Run–Rest–Repeat","Read–Write–Run","Rock–Roll–Rap"], c:0},
    {q:"Қалдық азайту:", a:["Тұтынуды азайту","Көбірек пластик","Суды ысырап","Орман кесу"], c:0},
    {q:"Жергілікті экожүйе:", a:["Өзің тұрған орта","Тек басқа ел","Тек мұхит","Тек ғарыш"], c:0},
    {q:"Бақылау:", a:["Ғылыми дағды","Тек ойын","Тек сөз","Тек түс"], c:0},
  ];}

  function quiz11_homeostasis(){ return [
    {q:"Гомеостаз:", a:["Ішкі тұрақтылық","Тек салмақ","Тек шаш","Тек дыбыс"], c:0},
    {q:"Гипоталамус:", a:["Реттеу орталығы","Тек сүйек","Тек бұлшықет","Тек тері"], c:0},
    {q:"Гормон:", a:["Химиялық реттегіш","Тек су","Тек тас","Тек жарық"], c:0},
    {q:"Стресс:", a:["Реттелмесе зиян","Әрқашан пайдалы","Әсер етпейді","Тек күлкі"], c:0},
    {q:"Ұйқы:", a:["Қалпына келу","Тек ойын","Тек сөз","Тек түс"], c:0},
  ];}

  function quiz11_gen(){ return [
    {q:"ДНҚ:", a:["Ақпарат тасымалдаушы","Тек май","Тек су","Тек тас"], c:0},
    {q:"Мутация:", a:["Өзгеріс","Тек өсу","Тек тыныс","Тек ұйқы"], c:0},
    {q:"Биоинформатика:", a:["Биология+дерек","Тек география","Тек әдебиет","Тек ән"], c:0},
    {q:"Дұрыс тұжырым:", a:["Дерек талдау маңызды","Дерек керек емес","Тек жаттау","Тек көшіру"], c:0},
    {q:"Тәуекел:", a:["Этика/қауіпсіздік","Тек сән","Тек ойын","Тек түс"], c:0},
  ];}

  function quiz11_health(){ return [
    {q:"Профилактика:", a:["Алдын алу","Тек ем","Тек ауырту","Тек ұйқы"], c:0},
    {q:"Қант/тұз артық:", a:["Тәуекел арттырады","Пайда ғана","Әсер жоқ","Тек күлкі"], c:0},
    {q:"Қозғалыс:", a:["Жүрекке пайдалы","Зиян ғана","Әсер жоқ","Тек сән"], c:0},
    {q:"Темекі:", a:["Қауіпті фактор","Пайдалы","Әсер жоқ","Витамин"], c:0},
    {q:"Денсаулық жоспары:", a:["Нақты әдеттер","Тек сөз","Тек фото","Тек ойын"], c:0},
  ];}

  return {
    setSession, getSession,
    setActiveTopicKey, getActiveTopicKey,
    getTopicByKey,
    getResults, saveResult,
    formatTheory, renderQuiz, gradeQuiz,
    renderTopicsForClass, openTopic
  };
})();
window.Bio360 = Bio360;
